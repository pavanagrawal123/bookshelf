{% extends "base.html" %} {% load static %} {% block content %}
<div class="grp gap">
  <button class="btn btn-primary" style="float: right;" onClick="window.print()">Print</button>
  <div class="card-group-x">
    <h2>Book Report</h2>
    <table id="tab1">
      <thead>
        <th>Title</th>
        <th>Author</th>
        <th>Number of Copies</th>
        <th>Available Copies</th>
      </thead>

      {% for book in books %}
      <tr>
        <td>{{ book.name }}</td>
        <td>{{ book.author }}</td>
        <td>{{ book.count }}</td>
        <td>{{ book.available }}</td>
      </tr>
      {% endfor %}
    </table>
  </div>

  <div class="card-group-x">
    <h2>Students Report</h2>
    <table id="tab2">
      <thead>
        <th>Name</th>
        <th>Grade Level</th>
        <th>Number of Books Claimed</th>
      </thead>

      {% for student in students %}
      <tr>
        <td>{{ student.name }}</td>
        <td>{{ student.grade_level }}</td>
        <td>{{ student.count }}</td>
      </tr>
      {% endfor %}
    </table>
  </div>

  <div class="card-group-x">
    <h2>Weekly Copy Report</h2>
    <table id="tab3">
      <thead>
        <th>Book Title</th>
        <th>Student</th>
        <th>Claim Code</th>
      </thead>

      {% for ebook in ebooks %}
      <tr>
        <td>{{ ebook.book_id.name }}</td>
        <td>{{ ebook.check_out_student.name }}</td>
        <td>{{ ebook.name }}</td>
      </tr>
      {% endfor %}
    </table>
  </div>
</div>
<script>
  $(document).ready(function() {
    $("#tab1").DataTable();
    $("#tab2").DataTable();
    $("#tab3").DataTable();
  });
</script>

{% endblock %}
